(()=>{var t,e={25:(t,e,n)=>{"use strict";n(972);function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var i=window.jQuery,a=i("#adminmenuwrap").outerWidth(),c=i("#wpadminbar").outerHeight(),r=i(".chaty-header").outerHeight(),s=Boolean(window.isRtl)?"right":"left",l=function(){return innerWidth<600?(scrollY<=c?c-scrollY:0)+"px":c+"px"},d=function(){return innerWidth>=783?a+"px":0},h=function(){return innerWidth<640?(r||0)+20:(r||0)+c};var u=window.jQuery;function p(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function f(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?p(Object(n),!0).forEach((function(e){v(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function v(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var g=window.jQuery;const w=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var o=e.reduceRight((function(t,e){return f(f({},t),e)}),{});return function(t){return function(e){return t(f(f({},e),o))}}}({onLayoutChange:function(t){var e;t((o(e={top:l()},s,d()),o(e,"width","calc(100% - ".concat(d(),")")),o(e,"content",h()),e)),onscroll=function(){var e;t((o(e={top:l()},s,d()),o(e,"width","calc(100% - ".concat(d(),")")),o(e,"content",h()),e))},i(document).on("wp-menu-state-set wp-collapse-menu",(function(e,n){var u;a=i("#adminmenuwrap").outerWidth(),c=i("#wpadminbar").outerHeight(),r=i(".chaty-header").outerHeight(),t((o(u={top:l()},s,d()),o(u,"width","calc(100% - ".concat(d(),")")),o(u,"content",h()),u))}))}},{route:new URLSearchParams(window.location.search)})((function(t){var e=g(".chaty-header"),n=g("#chaty-widget-body-tab"),o=g("#chaty-social-channel"),i=g(".back-button"),a=g(".next-button"),c=g(".chaty-widget-tab"),r=g("#process-step"),s=g("#current-step"),l=g("#step-progress"),d=g("#current_step"),h=["chaty-tab-social-channel","chaty-tab-customize-widget","chaty-tab-triger-targeting","chaty-tab-chatway"],p=Number(t.route.get("step")||0);if(0!==e.length&&0!==o.length){t.onLayoutChange((function(t){e.css(t),n.css("margin-top","".concat(t.content,"px"))}));var f=function(t){if(t<h.length&&t>=0){p=t,g(".social-channel-tabs").removeClass("active"),g("#".concat(h[t])).addClass("active"),g(".chaty-tab").removeClass("active completed").each((function(){if(g(this).addClass("completed"),this.dataset.tabId===h[t])return g(this).addClass("active"),!1})),s.text("".concat(t+1,"/4")),r.text(v(t)),d.val(t),i.removeClass("cht-disable"),a.removeClass("cht-disable");var e=w()-(t+1)/4*w();l.css({strokeDashoffset:e}),t<=0&&i.addClass("cht-disable"),t>=h.length-1&&a.addClass("cht-disable"),c.removeClass(["step-0","step-1","step-2","step-3"]),c.addClass("step-".concat(t));var n=new URL(window.location.href),o=n.searchParams;o.set("step",t),n.search=o.toString();var u=n.toString();window.history.replaceState({page_id:t},"",u)}},v=function(t){return 0==t?"Select channels":1==t?"Widget customization":2==t?"Triggers and targeting":"Add live Chat"};f(p),e.find(".chaty-tab").on("click",(function(){f(h.indexOf(this.dataset.tabId)),n.removeClass(["step-0","step-1","step-2","step-3"]),n.addClass("step-"+h.indexOf(this.dataset.tabId)),"fixed"===e.css("position")&&window.scrollTo({top:(innerWidth>768?e.outerHeight():0)+32+"px",left:0,behavior:"smooth"})})),a.on("click",(function(){f(p+1)})),i.on("click",(function(){f(p-1)})),u(".save-button-container .arrow-btn").on("click",(function(){var t=u(".save-dashboard-button"),e=u(".footer-buttons").offset(),n=u(this).offset(),o=n.top-e.top+45,i=n.left-e.left+40;return 1==u(this).attr("data-click-state")?(u(this).attr("data-click-state",0).removeClass("active"),t.css({display:"none"})):(u(this).attr("data-click-state",1).addClass("active"),t.css({position:"absolute",left:i+"px",top:o+"px",display:"inline-block",transform:"translateX(-100%)"})),!1})),u(window).on("click",(function(t){u(".arrow-btn.active")&&(u(".save-dashboard-button").css({display:"none"}),u(".arrow-btn.active").attr("data-click-state",0).removeClass("active"))}))}function w(){return 93*Math.PI}}));var y=window.jQuery;var m=window.jQuery;var b=window.jQuery;function k(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(b("#active_widget").length){var e=b(".trigger-block-wrapper"),n=b(".widget-disable-alert"),o=b("#active_widget");null===t&&(t=o[0]),t.checked?(e.show(),n.hide()):(e.hide(),n.show()),b("#active_widget").on("change",(function(){k(this)}))}}var C=window.jQuery;var _=window.jQuery;var j=window.jQuery;var x=window.jQuery;var P=window.jQuery;var O=window.jQuery;function $(){wp.hooks.addAction("chaty.channel_update","channelUpdateHandler",(function(t){var e=t.action,n=t.target,o=t.channel,i=t.isExceeded;!function(t){var e=O(".popover-upgrade-pro");t?(e.addClass("flex shake-it").removeClass("hidden"),e.isInViewport()||e[0].scrollIntoView({behavior:"smooth",block:"center"}),setTimeout((function(){return e.removeClass("shake-it")}),1e3)):e.removeClass("flex shake-it").addClass("hidden")}(i),"added"===e&&!i&&n&&function(t){O("#chaty-social-".concat(t))[0].scrollIntoView({behavior:"smooth",block:"center"})}(n);var a=o.length<=1;O(".chaty-widget-color, .chaty-widget-icon, .chaty-default-state, .chaty-icon-view").toggleClass("hidden",a)}))}var Q=window.jQuery;var z=window.jQuery;jQuery((function(){var t,e,n;w(),{init:function(){this.$previewBtn=y(".preview-help-btn"),this.$asidePreview=y(".preview-section-chaty"),this.resizeHandler(),this.$previewBtn.on("click",this.showPreview.bind(this)),this.$asidePreview.on("click",this.removePreview.bind(this)),y(window).resize(this.resizeHandler.bind(this))},showPreview:function(t){t.preventDefault(),t.stopPropagation(),this.$asidePreview.removeClass("pb-20 hidden").addClass("fixed top-0 left-0 flex items-center justify-center w-full h-screen bg-black/70").css("z-index",9999999).attr("data-show",1),this.$asidePreview.find(".preview").removeClass("sticky").css("max-width","350px")},removeHandler:function(){this.$asidePreview.addClass("pb-20 hidden").removeClass("fixed top-0 left-0 flex items-center justify-center w-full h-screen bg-black/70").removeAttr("style").attr("data-show",0),this.$asidePreview.find(".preview").addClass("sticky").removeAttr("style")},removePreview:function(t){t&&!t.target.closest(".preview")&&1==this.$asidePreview.attr("data-show")&&this.removeHandler()},position:function(){var t=y("#chaty-widget-body-tab");if(0!==t.length){var e=t.offset(),n=jQuery(document).width();return{centerY:window.innerHeight/2,left:e.left,right:n-(e.left+t.outerWidth()),width:n,containerWidth:t.outerWidth()}}},resizeHandler:function(){if(this.position()){var t=this.position(),e=t.centerY;t.right,t.width<=1024?(this.$previewBtn.css({top:e+"px",right:0,transform:"rotate(-90deg) translateX(137%)",opacity:1,zIndex:999999}),this.$asidePreview.addClass("hidden")):(this.removeHandler(),this.$asidePreview.removeClass("hidden"),this.$previewBtn.css({opacity:0}))}}}.init(),t={init:function(){this.extendJquery(),this.trigger(!1,{$scope:m(document),element:".chaty-color-field"}),m(document).on("chatyColorPicker/trigger",this.trigger.bind(this))},STATE:{current:null,set add(t){!t.is(this.current)&&this.current&&this.current.parent().next().slideUp(),this.current=t,this.closeAll},get closeAll(){var t=this;m("html, .preview-section-chaty").on("click",(function(e){e.target.closest(".cht-colorpicker__dropdown")||t.current.parent().next().slideUp()}))}},trigger:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1?arguments[1]:void 0;e&&this.eventUtils(e);var o=["#202020","#86cd91","#1E88E5","#ff6060","#49E670","#ffdb5e","#ff95ee"];n.$scope.find(n.element).each((function(e,i){var a=n.$scope.find(i);if(!a.data("chaty-color-picker")){var c=a.val()||"#202020",r=AColorPicker.parseColor(c,"hex");Object.assign({$scope:n.$scope,$input:a,defaultColor:c,colors:o,defaultColorDarker:t.colorLuminance(r,-.1)},t).addReplacer(),a.attr("data-chaty-color-picker",!0)}}))},eventUtils:function(t){t.preventDefault(),t.stopPropagation()},addReplacer:function(){var t=this;t.$input.css("display","none"),t.$input.after('\n                <div class="cht-colorpicker replacer">\n                    <div class="cht-colorpicker__preview">\n                        <span class="cht-colorpicker__preview--inner" style="background-color: '.concat(t.defaultColor,"; border-color: ").concat(t.defaultColorDarker,'"></span>\n                    </div>\n                    <div class="cht-colorpicker__dropdown">\n                        ').concat(t.colorTemplate(),"\n                    </div>\n                </div>\n            "));var e=t.$input.parent().find(".cht-colorpicker"),n=e.find(".cht-colorpicker__dropdown"),o=AColorPicker.createPicker(n,{attachTo:e,color:this.defaultColor,showAlpha:!0,showHSL:!1});t.initalize(e),o.on("change",(function(n,o){t.onChange.call(t,o,e,!0)}))},colorTemplate:function(){var t=this;return'\n            <ul class="palate">\n                '.concat(this.colors.map((function(e,n){return'<li data-color="'.concat(e,'" ').concat(e===t.defaultColor?'class="active"':"",'>\n                    <span class="template-color" style="background-color: ').concat(e,'"></span>\n                </li>')})).join(""),'\n                <li class="custom-color ').concat(this.colors.includes(this.defaultColor)?"":"active",'">\n                    <div>\n                        <svg class="pointer-events-none" width="16" height="16" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg" svg-inline="" focusable="false" tabindex="-1"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 1a1 1 0 00-2 0v4H1a1 1 0 000 2h4v4a1 1 0 102 0V7h4a1 1 0 100-2H7V1z" fill="currentColor"></path></svg>\n                    </div>\n                </li>\n            </ul>\n            ')},extendJquery:function(){m.fn.extend({premioFixHorizontalPosition:function(){var t=this.parent().offset().left,e=innerWidth-t;return this.outerWidth()+40>e&&this.css("right","0"),this}})},initalize:function(t){var e=this,n=t.find(".cht-colorpicker__preview--inner"),o=t.find(".cht-colorpicker__dropdown"),i=t.find(".custom-color"),a=t.find(".template-color"),c=t.find(".palate"),r=t.find(".a-color-picker");n.on("click",(function(t){e.eventUtils(t),o.premioFixHorizontalPosition().slideToggle(),r.hide(),setTimeout((function(){c.show()}),500),e.STATE.add=n})),a.on("click",(function(n){e.eventUtils(n),t.find("li").removeClass("active");var o=jQuery(this).parent();o.addClass("active"),e.onChange.call(e,o.data("color"),t,!1)})),i.on("click",(function(){t.find("li").removeClass("active"),jQuery(this).parent().addClass("active"),c.hide(),r.show()}))},colorLuminance:function(t,e){(t=String(t).replace(/[^0-9a-f]/gi,"")).length<6&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]),e=e||0;var n,o,i="#";for(o=0;o<3;o++)n=parseInt(t.substr(2*o,2),16),i+=("00"+(n=Math.round(Math.min(Math.max(0,n+n*e),255)).toString(16))).substr(n.length);return i},updatePreviewColor:function(t,e,n){t.find(".cht-colorpicker__preview--inner").css({backgroundColor:e,borderColor:n})},updateCustomPreviewColor:function(t,e){t.find(".custom-color").css({borderColor:e})},updateChannelIconColor:function(t){t.$scope;var e=t.color,n=(t.type,t.channel);jQuery("#chaty_image_"+n+" .custom-chaty-image").css("background-color",e),jQuery("#chaty_image_"+n+" .facustom-icon").css("background-color",e),jQuery("#chaty_image_"+n+" .color-element").css("fill",e)},updateAgentIconColor:function(t){t.$scope;var e=t.color,n=(t.type,t.channel);console.log("color: "+e),console.log("channel: "+n),jQuery("#image_agent_data_agent-"+n+" .custom-agent-image").css("background-color",e),jQuery("#image_agent_data_agent-"+n+" .facustom-icon").css("background-color",e),jQuery("#image_agent_data_agent-"+n+" .color-element").css("fill",e)},updateAgentUserIconColor:function(t){t.$scope;var e=t.color,n=(t.type,t.channel),o=t.agentIndex;jQuery("#image_agent_data_"+n+"-"+o+" .custom-agent-image").css("background-color",e),jQuery("#image_agent_data_"+n+"-"+o+" .facustom-icon").css("background-color",e),jQuery("#image_agent_data_"+n+"-"+o+" .color-element").css("fill",e)},onChange:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=AColorPicker.parseColor(t,"hex"),i=n?this.colorLuminance(o,-.1):o,a=e.parents(".chaty-channel").data("type");if(this.$input.val(t).attr("value",t),this.updatePreviewColor(e,t,i),n&&this.updateCustomPreviewColor(e,i),this.$input.hasClass("chaty-bg-color")&&this.updateChannelIconColor({type:"chaty-bg-color",$scope:jQuery(".custom-image-".concat(a)).parent(),color:t,channel:a}),this.$input.hasClass("agent-bg-color")&&this.updateAgentIconColor({type:"agent-bg-color",$scope:jQuery(".custom-image-".concat(a)).parent(),color:t,channel:a}),this.$input.hasClass("agent-icon-color")){var c=e.parents(".agent-channel-setting").data("item");this.updateAgentUserIconColor({type:"agent-icon-color",$scope:jQuery(".custom-image-".concat(a)).parent(),color:t,channel:a,agentIndex:c})}change_custom_preview()}},t.init(),k(),C(document).on("click",".customize-agent-button",(function(){var t=C(this).parents(".chaty-channel");t.find(".customize-agent-button, .agent-button-action").toggleClass("enable"),t.find(".chaty-channel-main-settings").slideToggle(200)})),C(document).on("click",".agent-channel-setting-button",(function(){C(this).parents(".agent-channel-setting").find(".agent-channel-setting-advance").slideToggle(200),C(this).toggleClass("enable")})),_(".close-chaty-popup-btn").on("click",(function(t){t.stopPropagation(),_(".chaty-popup").hide(),_(this).hasClass("channel-setting-btn")&&(_("#chaty-social-channel").trigger("click"),_(window).scrollTop(_("#channels-selected-list").offset().top-120))})),j(".chaty-settings").on("click",(function(t){t.preventDefault(),t.stopPropagation(),j(this).toggleClass("enable");var e=j(this).parents(".chaty-channel"),n=j(window).scrollTop(),o=e.offset().top-n-130;window.scrollBy({top:o,left:0,behavior:"smooth"})})),x(".widget-size-control").on("change",(function(){"radio"===this.type&&(x("#custom-widget-size").css({display:"size-custom"===this.id?"block":"none"}),x(".widget-size-control").prop("checked",!1),x(this).prop("checked",!0)),x("#custom-widget-size-input").val(this.value),change_custom_preview()})),P(".chaty-targeted-collapse").on("click",(function(t){t.preventDefault();var e=this.dataset.target,n=P("#".concat(e)),o=P(this);n.slideToggle(300,(function(){n.is(":hidden")?o.find("svg").css("transform","rotate(0deg)"):o.find("svg").css("transform","rotate(90deg)")}))})),$(),Q(".create-rule").on("click",(function(){Q(this).parents(".chaty-option-box").addClass("show-remove-rule-button")})),Q(".remove-rules").on("click",(function(){Q(this).parents(".chaty-option-box").removeClass("show-remove-rule-button")})),e={init:function(){this.$chatwayPosition="above-chaty",z(document).on("click","#add-chatyway",(function(t){t.preventDefault(),n(),z("#chatyway-info-popup").show(),z("#chatyway-info-popup .chaty-popup-inner").addClass("step-1")})),z(document).on("click",".close-chatway-notice",(function(t){t.preventDefault(),z(".chatway--notice").remove()})),z(document).on("click","#add-live-channel",(function(t){n(),z(".has--no--widgets").length?(z("#chatyway-info-popup .chaty-popup-inner").addClass("step-1"),z("#chatyway-info-popup").hide()):z("#chatyway-info-popup .chaty-popup-inner").addClass("step-2")})),z(document).on("click","#change-chatway-position",(function(t){z("#chatway-position-settings").toggleClass("hidden")})),z(document).on("change","#chatway-position-settings input[name='chatway_position']:checked",(function(){startAnimation()})),z(document).on("click",".close-chatway-notice",(function(t){t.preventDefault(),z(".chatway-notice").addClass("hidden")})),z(document).on("click","#go-to-first-step",(function(t){t.preventDefault(),z("#chaty-social-channel").trigger("click")})),z(document).on("click","#add-live-chat-btn",(function(t){t.preventDefault(),z("#add-chatyway").trigger("click")})),z(document).on("click","#add-chatway-channel",(function(t){t.preventDefault(),z("#chatyway-info-popup").hide()})),z(document).on("click","#open-widget-list",(function(t){t.stopPropagation(),t.preventDefault(),z(".dropdown--list").slideToggle(200)})),z(document).on("click","body, html",(function(t){z(".dropdown--list").slideUp(200)})),z(document).on("click",".dropdown--list a",(function(t){t.stopPropagation(),t.preventDefault();var e=z(this).attr("data-widget");z("#add_chatway_to_widget").val(e),z("#chatyway-info-popup").show(),z(".dropdown--list").slideUp(200)}))}},n=function(){z("#chatyway-info-popup .chaty-popup-inner").removeClass(["step-1","step-2","step-3"])},e.init()}))},972:()=>{var t=window.jQuery;t.fn.isInViewport=function(){var e=t(this).offset().top,n=e+t(this).outerHeight(),o=t(window).scrollTop(),i=o+t(window).height();return n>o&&e<i}},303:()=>{}},n={};function o(t){var i=n[t];if(void 0!==i)return i.exports;var a=n[t]={exports:{}};return e[t](a,a.exports,o),a.exports}o.m=e,t=[],o.O=(e,n,i,a)=>{if(!n){var c=1/0;for(d=0;d<t.length;d++){for(var[n,i,a]=t[d],r=!0,s=0;s<n.length;s++)(!1&a||c>=a)&&Object.keys(o.O).every((t=>o.O[t](n[s])))?n.splice(s--,1):(r=!1,a<c&&(c=a));if(r){t.splice(d--,1);var l=i();void 0!==l&&(e=l)}}return e}a=a||0;for(var d=t.length;d>0&&t[d-1][2]>a;d--)t[d]=t[d-1];t[d]=[n,i,a]},o.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t={561:0,782:0};o.O.j=e=>0===t[e];var e=(e,n)=>{var i,a,[c,r,s]=n,l=0;if(c.some((e=>0!==t[e]))){for(i in r)o.o(r,i)&&(o.m[i]=r[i]);if(s)var d=s(o)}for(e&&e(n);l<c.length;l++)a=c[l],o.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return o.O(d)},n=self.webpackChunkchaty=self.webpackChunkchaty||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))})(),o.O(void 0,[782],(()=>o(25)));var i=o.O(void 0,[782],(()=>o(303)));i=o.O(i)})();